<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>単語学習</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <header class="header">
        <button id="prev-page-btn" class="prev-page-btn">←</button>
        <h1 id="book-title">単語帳</h1>
    </header>

    <!-- 例文ポップアップ -->
    <div id="example-modal" class="modal modal-hidden">
        <div class="modal-content">
            <button id="close-modal">×</button>
            <p class="example-en"></p>
            <button id="toggle-ja" class="button-text">日本語を表示</button>
            <button id="play-audio" class="button-text">🔊 再生</button>
        <p class="example-ja hidden"></p>
        </div>
    </div>
    <!-- タグ設定モーダル -->
    <div id="tag-modal" class="modal modal-hidden">
        <div class="modal-tag-content">
            <h3 id="tag-modal-title"></h3>

            <!-- ★ ここをスクロールさせる -->
            <div class="modal-body" id="tag-checkbox-area"></div>

            <div class="modal-buttons">
                <button id="tag-save-btn" class="prev-btn">保存</button>
                <button id="tag-close-btn" class="prev-btn">閉じる</button>
            </div>
        </div>
    </div>
    <!-- <div id="tag-modal" class="modal modal-hidden">
        <div class="modal-content">
            <h3 id="tag-modal-title"></h3>

            <div id="tag-checkbox-area"></div>

            <div class="modal-buttons">
                <button id="tag-save-btn">保存</button>
                <button id="tag-close-btn">閉じる</button>
            </div>
        </div>
    </div> -->

    <!-- 品詞フィルタモーダル -->
    <div id="pos-modal" class="modal modal-hidden">
        <div class="modal-tag-content">
            <h3>品詞フィルター</h3>

            <iv class="modal-body" id="pos-checkbox-area">
                <div><label><input type="checkbox" value="動" checked> 動詞</label></div>
                <div><label><input type="checkbox" value="名" checked> 名詞</label></div>
                <div><label><input type="checkbox" value="形" checked> 形容詞</label></div>
                <div><label><input type="checkbox" value="副" checked> 副詞</label></div>
                <div><label><input type="checkbox" value="その他">その他</label></div>
            </iv>

            <div class="modal-buttons">
                <button id="pos-apply-btn" class="prev-btn">適用</button>
                <button id="pos-close-btn" class="prev-btn">閉じる</button>
            </div>
        </div>
    </div>
    
    <!-- テスト設定モーダル -->
    <div id="test-modal" class="modal modal-hidden">
        <div class="modal-tag-content">
            <h3>テスト作成</h3>
            
            <label>
                出題順：
                <select id="order-select">
                    <option value="random">ランダム</option>
                    <option value="sequential">連番</option>
                </select>
            </label>
            
            <p>品詞：</p>
            <label><input type="checkbox" value="動" checked> 動詞</label>
            <label><input type="checkbox" value="名" checked> 名詞</label>
            <label><input type="checkbox" value="形" checked> 形容詞</label>
            <label><input type="checkbox" value="副" checked>副詞</label>
            <label><input type="checkbox" value="その他" checked>その他</label>
            
            <p>出題範囲（単語番号）</p>
            <div class="range-inputs">
                <label>
                    開始：
                    <input type="number" id="range-start" min="1" value="1">
                </label>
                <label>
                    終了：
                    <input type="number" id="range-end" min="1">
                </label>
            </div>
            
            <p>作成するテストの種類数</p>
            <label>
                種類数：
                <input
                    type="number"
                    id="test-count"
                    min="1"
                    max="10"
                    value="1"
                >
            </label>
            
            <div class="modal-buttons">
                <button id="create-test-btn" class="prev-btn">PDF作成</button>
                <button id="test-maker-close" class="prev-btn">閉じる</button>
            </div>
        </div>
    </div>

    <!-- 単語カードモーダル -->
    <div class="modal modal-hidden" id="card-settings-modal">
        <div class="modal-content">
            <h3>単語カード設定</h3>

            <div class="range-inputs">
                <label>学習範囲：
                    <input type="number" id="range-from" min="1" value="1"> ～
                    <input type="number" id="range-to" min="1" value="10">
                </label>
            </div>

            <div id="pos-filter">
                <label><input type="checkbox" value="動" checked> 動</label>
                <label><input type="checkbox" value="名" checked> 名</label>
                <label><input type="checkbox" value="形" checked> 形</label>
                <label><input type="checkbox" value="副" checked> 副</label>
                <label><input type="checkbox" value="その他" checked>その他</label>
            </div>

            <label>
                <input type="checkbox" id="random-mode"> ランダム出題
            </label>

            <div id="random-count-container" style="display:none;">
                学習個数: <input type="number" id="random-count" min="1" value="10">
            </div>

            <div class="modal-buttons">
                <button id="card-study-btn" class="prev-btn">学習開始</button>
                <button id="card-study-close" class="prev-btn">閉じる</button>
            </div>
        </div>
    </div>

    <main class="container">
        <div>
            <div class="controls">
                <input
                type="number"
                id="jump-input"
                placeholder="番号で移動"
                min="1"
                style="width: 100px;"
                />
                <button id="jump-btn">移動</button>
                
                <input
                type="text"
                id="word-search-input"
                placeholder="単語で検索"
                style="width: 140px;"
                />
                <button id="word-search-btn">検索</button>
            </div>

            <!-- <div class="controls">
                <button id="pos-filter-btn">品詞フィルター</button>
            </div> -->

            <div class="controls">
                <button id="pos-filter-btn">品詞フィルター</button>
                <button id="open-test-modal-btn">テスト作成</button>
                <button id="open-card-settings">単語カード学習</button>

            </div>


        </div>
        <div class="controls">
            <button id="show-all-btn">すべて表示</button>
            <button id="hide-all-btn">すべて隠す</button>
        </div>
    <div class="pagination">
        <button class="prev-btn">← 前へ</button>
        <span class="page-info"></span>
        <button class="next-btn">次へ →</button>
    </div>
    <ul id="word-list"></ul>
    <div class="pagination">
        <button class="prev-btn">← 前へ</button>
        <span class="page-info"></span>
        <button class="next-btn">次へ →</button>
    </div>
    <button id="back-btn">← ホームに戻る</button>
    <!-- <button id="tagRestart">タグの初期化</button> -->
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="./NotoSansJP-Regular-base64.js"></script>
    <script src="./data.js"></script>
    <script src="./study.js"></script>
</body>
</html>